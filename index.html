<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Te estoy mirando</title>
  <style>
    :root{
      --bg:#0a0b0e; --fg:#e9e9e9; --accent:#e21b1b; --muted:#9aa0a6;
    }
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
      display:flex; align-items:center; justify-content:center;
      overflow:hidden; position:relative;
    }
    /* Ruido/grain sutil sobre toda la pantalla */
    .noise{
      pointer-events:none; position:absolute; inset:0; opacity:.06; mix-blend-mode:screen;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="220" height="220" viewBox="0 0 220 220"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.5"/></svg>');
      animation:grain 1.6s steps(6) infinite;
    }
    @keyframes grain{0%{transform:translate(0,0)}25%{transform:translate(-8px,6px)}50%{transform:translate(6px,-4px)}75%{transform:translate(-4px,8px)}100%{transform:translate(0,0)}}

    .wrap{ text-align:center; padding:24px; width:min(920px,100%); position:relative; }

    .msg{
      font-size:clamp(28px,7vw,80px);
      line-height:1.1; font-weight:800; color:var(--accent);
      display:inline-block; position:relative; letter-spacing:.02em;
      text-shadow:0 0 6px rgba(226,27,27,.35);
      user-select:none;
    }
    /* efecto glitch RGB */
    .msg::before, .msg::after{
      content:attr(data-text); position:absolute; inset:0; overflow:hidden;
    }
    .msg::before{ color:#2ee; transform:translate(1px,0); mix-blend-mode:screen; opacity:.35; animation:gl1 1.8s linear infinite alternate; }
    .msg::after { color:#f2f; transform:translate(-1px,0); mix-blend-mode:screen; opacity:.28; animation:gl2 1.6s linear infinite alternate; }
    @keyframes gl1{0%{clip-path:inset(0 0 92% 0)}20%{clip-path:inset(0 0 15% 0)}40%{clip-path:inset(0 0 60% 0)}60%{clip-path:inset(0 0 5% 0)}80%{clip-path:inset(0 0 40% 0)}100%{clip-path:inset(0 0 0 0)}}
    @keyframes gl2{0%{clip-path:inset(90% 0 0 0)}25%{clip-path:inset(10% 0 0 0)}50%{clip-path:inset(65% 0 0 0)}75%{clip-path:inset(5% 0 0 0)}100%{clip-path:inset(0 0 0 0)}}

    .cursor{ display:inline-block; width:.6ch; height:1.05em; translate:0 .15em; background:var(--accent); animation:blink 1s steps(1) infinite; margin-left:.15ch; }
    @keyframes blink{50%{opacity:0}}

    .hint{ margin-top:1rem; color:var(--muted); font-size:.9rem; opacity:.75 }
  </style>
</head>
<body>
  <div class="noise"></div>
  <div class="wrap">
    <div id="line" class="msg" data-text="Te estoy mirando">Te estoy mirando<span class="cursor"></span></div>
    <div class="hint">Toca/clic para continuar</div>
  </div>

  <!-- Tu audio ya subido al repo -->
  <audio id="staticSound" src="static.wav" preload="auto"></audio>

  <script>
    const line = document.getElementById('line');
    const sound = document.getElementById('staticSound');
    const messages = ["Te estoy mirando", "Aún te estoy mirando", "Desde adentro"];
    let i = 0;

    function setText(t){
      line.setAttribute('data-text', t);
      line.innerHTML = t + '<span class="cursor"></span>';
    }

    async function clickHandler(){
      try {
        sound.currentTime = 0;
        await sound.play();
      } catch(e) { /* algunos móviles requieren interacción; ya la hubo */ }

      i = (i + 1) % messages.length;
      // pequeño retraso para que el audio “muerda” antes del cambio
      setTimeout(()=> setText(messages[i]), 450);
    }

    document.body.addEventListener('click', clickHandler, {passive:true});
    document.body.addEventListener('touchstart', clickHandler, {passive:true});
  </script>
</body>
</html>
